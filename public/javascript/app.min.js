$(document).ready(function(){var t=!0,o={placement:"top",container:"#tweet_globe",html:!0,selector:".points",content:function(){return $("#popover-content").html()}};io=io.connect(window.location.host),$(".points").popover(o),$("#starry").on("DOMNodeInserted",function(){$("#"+$(this).attr("id")).popover(o)}),io.on("end",function(t){alert(t.response)}),io.on("destroy",function(t){alert(t.response)}),io.on("inactivity",function(t){alert(t.response)}),$.get("http://ipinfo.io",function(t){io.emit("twitter-stream",{country:t.country})},"jsonp"),io.on("country",function(t){$("#cntry").html(t.country)}),io.on("countryTrends",function(t){for(i=1;i<Object.keys(t.trends).length;i++)$("#chf"+i).val(t.trends[i].name),$("#chf"+i).after("#"+i+":  "+t.trends[i].name)}),io.on("worldTrends",function(t){for(i=1;i<Object.keys(t.trends).length;i++)$("#whf"+i).val(t.trends[i].name),$("#whf"+i).after("#"+i+":  "+t.trends[i].name)}),io.on("stream",function(o){tweet(o),1==t&&$("#tweets").prepend("<div class='tweet'><span class='user'>@"+o.profile+"</span>:  "+o.tweet+"</div>")}),$(document).on("click",".points",function(){$("#"+$(this).attr("id")).popover("show")}),$(document).on("click",".popover",function(){$("#"+$(this).attr("id")).popover("hide")}),$("#rotation .buttontext").html(rotating?"Turn Rotation Off":"Turn Rotation On"),$("#rotation").click(function(){1==rotating?(rotating=!1,rotation="Turn Rotation On",$("#rotation").css("background-color","#00a5ff")):(rotating=!0,rotation="Turn Rotation Off",$("#rotation").css("background-color","#000000")),$("#rotation .buttontext").html(rotation)}),$("#stream .buttontext").html(t?"Turn Stream Off":"Turn Stream On"),$("#stream").click(function(){1==t?(t=!1,stream_toggle="Turn Stream On",$("#stream").css("background-color","#64C51E")):(t=!0,stream_toggle="Turn Stream Off",$("#stream").css("background-color","#b30000")),$("#stream .buttontext").html(stream_toggle)}),$(document).on("click","[name='hashtagFilter']",function(){return!1}),$("#hash_tag").keyup(function(){io.emit("search",{filter:$("#hash_tag").val()})})});